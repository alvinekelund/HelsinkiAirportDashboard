file://<WORKSPACE>/src/main/scala/Visual/Metric.scala
### java.lang.StringIndexOutOfBoundsException: String index out of range: 0

occurred in the presentation compiler.

presentation compiler configuration:
Scala version: 3.3.0
Classpath:
<WORKSPACE>/.bloop/root/bloop-bsp-clients-classes/classes-Metals-deQgC4rjSXyRVZtIonfQLQ== [exists ], <HOME>/Library/Caches/bloop/semanticdb/com.sourcegraph.semanticdb-javac.0.9.9/semanticdb-javac-0.9.9.jar [exists ], <HOME>/Library/Caches/Coursier/v1/https/repo1.maven.org/maven2/org/scala-lang/scala3-library_3/3.3.0/scala3-library_3-3.3.0.jar [exists ], <HOME>/Library/Caches/Coursier/v1/https/repo1.maven.org/maven2/io/circe/circe-core_3/0.14.2/circe-core_3-0.14.2.jar [exists ], <HOME>/Library/Caches/Coursier/v1/https/repo1.maven.org/maven2/io/circe/circe-generic_3/0.14.2/circe-generic_3-0.14.2.jar [exists ], <HOME>/Library/Caches/Coursier/v1/https/repo1.maven.org/maven2/io/circe/circe-parser_3/0.14.2/circe-parser_3-0.14.2.jar [exists ], <HOME>/Library/Caches/Coursier/v1/https/repo1.maven.org/maven2/org/scalafx/scalafx_3/20.0.0-R31/scalafx_3-20.0.0-R31.jar [exists ], <HOME>/Library/Caches/Coursier/v1/https/repo1.maven.org/maven2/com/typesafe/akka/akka-http_3/10.5.3/akka-http_3-10.5.3.jar [exists ], <HOME>/Library/Caches/Coursier/v1/https/repo1.maven.org/maven2/com/softwaremill/sttp/client3/core_3/3.3.7/core_3-3.3.7.jar [exists ], <HOME>/Library/Caches/Coursier/v1/https/repo1.maven.org/maven2/com/softwaremill/sttp/client3/circe_3/3.3.7/circe_3-3.3.7.jar [exists ], <HOME>/Library/Caches/Coursier/v1/https/repo1.maven.org/maven2/org/scala-lang/modules/scala-xml_3/2.0.0/scala-xml_3-2.0.0.jar [exists ], <HOME>/Library/Caches/Coursier/v1/https/repo1.maven.org/maven2/org/scala-lang/scala-library/2.13.10/scala-library-2.13.10.jar [exists ], <HOME>/Library/Caches/Coursier/v1/https/repo1.maven.org/maven2/io/circe/circe-numbers_3/0.14.2/circe-numbers_3-0.14.2.jar [exists ], <HOME>/Library/Caches/Coursier/v1/https/repo1.maven.org/maven2/org/typelevel/cats-core_3/2.7.0/cats-core_3-2.7.0.jar [exists ], <HOME>/Library/Caches/Coursier/v1/https/repo1.maven.org/maven2/io/circe/circe-jawn_3/0.14.2/circe-jawn_3-0.14.2.jar [exists ], <HOME>/Library/Caches/Coursier/v1/https/repo1.maven.org/maven2/org/openjfx/javafx-base/20/javafx-base-20.jar [exists ], <HOME>/Library/Caches/Coursier/v1/https/repo1.maven.org/maven2/org/openjfx/javafx-controls/20/javafx-controls-20.jar [exists ], <HOME>/Library/Caches/Coursier/v1/https/repo1.maven.org/maven2/org/openjfx/javafx-fxml/20/javafx-fxml-20.jar [exists ], <HOME>/Library/Caches/Coursier/v1/https/repo1.maven.org/maven2/org/openjfx/javafx-graphics/20/javafx-graphics-20.jar [exists ], <HOME>/Library/Caches/Coursier/v1/https/repo1.maven.org/maven2/org/openjfx/javafx-media/20/javafx-media-20.jar [exists ], <HOME>/Library/Caches/Coursier/v1/https/repo1.maven.org/maven2/org/openjfx/javafx-swing/20/javafx-swing-20.jar [exists ], <HOME>/Library/Caches/Coursier/v1/https/repo1.maven.org/maven2/org/openjfx/javafx-web/20/javafx-web-20.jar [exists ], <HOME>/Library/Caches/Coursier/v1/https/repo1.maven.org/maven2/com/typesafe/akka/akka-http-core_3/10.5.3/akka-http-core_3-10.5.3.jar [exists ], <HOME>/Library/Caches/Coursier/v1/https/repo1.maven.org/maven2/com/softwaremill/sttp/model/core_3/1.4.7/core_3-1.4.7.jar [exists ], <HOME>/Library/Caches/Coursier/v1/https/repo1.maven.org/maven2/com/softwaremill/sttp/shared/core_3/1.2.5/core_3-1.2.5.jar [exists ], <HOME>/Library/Caches/Coursier/v1/https/repo1.maven.org/maven2/com/softwaremill/sttp/shared/ws_3/1.2.5/ws_3-1.2.5.jar [exists ], <HOME>/Library/Caches/Coursier/v1/https/repo1.maven.org/maven2/com/softwaremill/sttp/client3/json-common_3/3.3.7/json-common_3-3.3.7.jar [exists ], <HOME>/Library/Caches/Coursier/v1/https/repo1.maven.org/maven2/org/typelevel/cats-kernel_3/2.7.0/cats-kernel_3-2.7.0.jar [exists ], <HOME>/Library/Caches/Coursier/v1/https/repo1.maven.org/maven2/org/typelevel/simulacrum-scalafix-annotations_3/0.5.4/simulacrum-scalafix-annotations_3-0.5.4.jar [exists ], <HOME>/Library/Caches/Coursier/v1/https/repo1.maven.org/maven2/org/typelevel/jawn-parser_3/1.3.2/jawn-parser_3-1.3.2.jar [exists ], <HOME>/Library/Caches/Coursier/v1/https/repo1.maven.org/maven2/org/openjfx/javafx-base/20/javafx-base-20-mac.jar [exists ], <HOME>/Library/Caches/Coursier/v1/https/repo1.maven.org/maven2/org/openjfx/javafx-controls/20/javafx-controls-20-mac.jar [exists ], <HOME>/Library/Caches/Coursier/v1/https/repo1.maven.org/maven2/org/openjfx/javafx-fxml/20/javafx-fxml-20-mac.jar [exists ], <HOME>/Library/Caches/Coursier/v1/https/repo1.maven.org/maven2/org/openjfx/javafx-graphics/20/javafx-graphics-20-mac.jar [exists ], <HOME>/Library/Caches/Coursier/v1/https/repo1.maven.org/maven2/org/openjfx/javafx-media/20/javafx-media-20-mac.jar [exists ], <HOME>/Library/Caches/Coursier/v1/https/repo1.maven.org/maven2/org/openjfx/javafx-swing/20/javafx-swing-20-mac.jar [exists ], <HOME>/Library/Caches/Coursier/v1/https/repo1.maven.org/maven2/org/openjfx/javafx-web/20/javafx-web-20-mac.jar [exists ], <HOME>/Library/Caches/Coursier/v1/https/repo1.maven.org/maven2/com/typesafe/akka/akka-parsing_3/10.5.3/akka-parsing_3-10.5.3.jar [exists ]
Options:
-Xsemanticdb -sourceroot <WORKSPACE>


action parameters:
offset: 2599
uri: file://<WORKSPACE>/src/main/scala/Visual/Metric.scala
text:
```scala
package Visual

import scalafx.scene.layout.{Pane, VBox}
import scalafx.scene.shape.Rectangle
import scalafx.scene.paint.Color._
import scalafx.scene.control.Label
import scalafx.scene.layout.StackPane
import scalafx.scene.Node
import javafx.scene.input.MouseEvent
import scalafx.scene.paint.Color
import scalafx.geometry.Pos
import scalafx.Includes.jfxMouseEvent2sfx
import scalafx.scene.control.Label
import scalafx.scene.layout.StackPane
import scalafx.scene.shape.Rectangle
import scalafx.scene.layout.VBox
import scalafx.scene.layout.BorderPane
import scalafx.scene.transform.Translate
import scalafx.scene.layout.Pane
import scalafx.scene.layout.HBox
import scalafx.geometry.Pos.TopRight
import scalafx.scene.layout.Region
import scalafx.geometry.Point2D
import scalafx.scene.control.Tooltip

class Metric {
  private val maxMetrics = 4
  var metrics: List[StackPane] = Nil
  var selectedCard: Option[StackPane] = None


  def makeMetric(name: String, initialValue: String, color: Color): StackPane =
      val nameLabel = new Label(name)
      val valueLabel = new Label(initialValue)

      val rect = new Rectangle {
        width = 300
        height = 200
        fill = color
        arcWidth = 50
        arcHeight = 50
      }

      nameLabel.style = "-fx-font-weight: bold; -fx-font-size: 40px"
      valueLabel.style = "-fx-font-size: 60px"

      nameLabel.alignmentInParent = Pos.Center
      valueLabel.alignmentInParent = Pos.Center

      val vbox = new VBox(nameLabel, valueLabel)
      vbox.alignment = Pos.Center

      val card = new StackPane
      card.children.addAll(rect, vbox)

      card.onMouseClicked = (event: MouseEvent) => {
            if (selectedCard.contains(card)) {
              rect.stroke = Color.Black
              selectedCard = None
            } else {
              rect.stroke = Color.Transparent
              selectedCard = Some(card)
            }
          }
      var orgSceneX, orgSceneY = 0.0
      var offsetX, offsetY = 0.0
      var middleX = 0.0
      var middleY = 0.0
      var oldMiddleX = 0.0
      var oldMiddleY

      /*card.onMousePressed = (event: MouseEvent) => {
        orgScreenX = event.screenX
        orgScreenY = event.screenY
      }

      card.onMouseDragged = (event: MouseEvent) => {
        offsetX = event.screenX  *0.3
        offsetY = event.screenY *0.3
        card.translateX = offsetX
        card.translateY = offsetY
    } */

      card.onMousePressed = (event: MouseEvent) => {
          orgSceneX = event.sceneX
          orgSceneY = event.sceneY
          oldMiddlex = middleX
          oldMiddleY.@@

          println(orgSceneY)

        }

        card.onMouseDragged = (event: MouseEvent) => {
          offsetX = event.sceneX - orgSceneX
          println("offsetY:" + offsetX) 
          offsetY = event.sceneY - orgSceneY
          println("offsetY:" + offsetY) 
          
          val newTranslateX = offsetX + card.translateX()
          val newTranslateY = offsetY + card.translateY()
          println("newtranslatex:" + newTranslateX)
          println("newtranslatey" + newTranslateX)
          card.setLayoutX(newTranslateX) 
          card.setLayoutY(newTranslateY) 
          middleX = newTranslateY
          middleY = newTranslateY
        }



      val pointNode: scalafx.scene.Node = card
      val pointValue = name
      val pointTime = initialValue
      val tooltip = new Tooltip()
      tooltip.setText(pointValue + "\n" + pointTime.toString)
      tooltip.setStyle("-fx-background-color: lightgrey; " + "-fx-text-fill: black; ")
      Tooltip.install(pointNode, tooltip)

      card

  

}
```



#### Error stacktrace:

```
java.base/java.lang.StringLatin1.charAt(StringLatin1.java:48)
	java.base/java.lang.String.charAt(String.java:1517)
	scala.collection.StringOps$.apply$extension(StringOps.scala:188)
	dotty.tools.dotc.interactive.Completion$.needsBacktick(Completion.scala:187)
	dotty.tools.dotc.interactive.Completion$.backtickCompletions(Completion.scala:167)
	dotty.tools.dotc.interactive.Completion$.$anonfun$1(Completion.scala:154)
	scala.collection.immutable.List.map(List.scala:250)
	dotty.tools.dotc.interactive.Completion$.computeCompletions(Completion.scala:154)
	dotty.tools.dotc.interactive.Completion$.completions(Completion.scala:50)
	scala.meta.internal.pc.completions.Completions.completions(Completions.scala:202)
	scala.meta.internal.pc.completions.CompletionProvider.completions(CompletionProvider.scala:86)
	scala.meta.internal.pc.ScalaPresentationCompiler.complete$$anonfun$1(ScalaPresentationCompiler.scala:146)
```
#### Short summary: 

java.lang.StringIndexOutOfBoundsException: String index out of range: 0